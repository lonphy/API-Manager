/******************************************************************************* * L5 框架核心类 * * 暂时只支持webkit核心 * * @author lonphy * @version 0.1 ******************************************************************************/(function (exports) {    "use strict";    var L5 = function (selector) {        switch (typeof selector) {            case 'string': // ID选择器                return document.querySelector(selector);            case 'function': // DOM Ready 函数                return L5.Ready(selector);        }    };    // 常用工具类    L5.Util = {        /**         * 判断是否是原生函数对象         *         * @param {function} obj 需要判断的对象         * @returns {boolean}         */        IsNativeFun: function (func) {            return typeof fn === 'function' &&                Function.toString.call(fn).replace(fn.name, '') === "function () { [native code] }";        },        Defer: function (func) {            setTimeout(func, 0);        }    };    L5.Error = function (msg) {        return new Error(msg);    };    /**     * UI组件包     */    L5.UI = {};    /**     * 全局对话框类     */    L5.UI.Dialog = (function () {        var instance = new Map;        function show(msg, type) {            type = type || "normal";            var dialog = instance.get(type);            if (!dialog) {                dialog = document.createElement('l5-dialog');                dialog.setAttribute('type', type);                document.body.appendChild(dialog);                instance.set(type, dialog);            }            dialog.innerHTML = msg || '';            dialog.open();        }        return {            Show: show,            ShowErr: function(msg) {                show(msg, "error");            }        };    })();    /**     * 启动器     */    L5.Run = function () {        /**         * CSS动画修正         */        window.onwebkitanimationend = function (e) {            e.animationName == 'hide' && e.target.classList.remove('show');        };        // 直接打到首页去        if (!!location.hash) {            location.assign("/apier.html");        }        // 初始化路由        L5.Router.init();        L5.Controller.init();    };    exports.L5 = L5;})(this);